---
title: "EDA"
author: "James A. Coppock"
date: "9/25/2020"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
setwd("~/Desktop/Duke/Class/Fall 2020/Biomedical DS/BME590_Fall_Detection")
library("tidyverse")
library(readxl)
library(evobiR)
library(patchwork)
library(gridExtra)
Falls_df <- read_excel('Fall_Data.xlsx')
```

## Including Plots

You can also embed plots, for example:

```{r , echo=FALSE}
#install.packages("evobiR")
Fs <- 100
win <- 2
stp <- 0.5
window <-win*Fs
step <- stp*Fs 
Targets<-SlidingWindow("max", Falls_df$Target, window, step)

maxAccX<-SlidingWindow("max", abs(Falls_df$accX), window, step)
maxAccY<-SlidingWindow("max", abs(Falls_df$accY), window, step)
maxAccZ<-SlidingWindow("max", abs(Falls_df$accZ), window, step)
Features<-data.frame(cbind(maxAccX,maxAccY,maxAccZ))
length(Falls_df$accX)
```

```{r , echo=FALSE}
time<-seq(from = 1/Fs, to =(length(Falls_df$accX)/Fs) , by = 1/Fs)
p1<-ggplot(data=Falls_df, aes(x = time, y=accX, group=1)) +
  geom_line(linetype = "solid") + labs(title = "X Acceleration") 

wintime<-seq(from = 1/100, to =(length(Features$maxAccX)/2) , by = 1/2)
p2<-ggplot(data=Features, aes(x = wintime, y=maxAccX, group=1)) +
  geom_line(linetype = "solid") + labs(title = "Max X Acceleration in (2:0.5) Window") 

p1+ p2



```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
